name = "opensession-io"
main = "build/worker/shim.mjs"
compatibility_date = "2024-01-01"

[assets]
directory = "web/build"
not_found_handling = "single-page-application"
binding = "ASSETS"
run_worker_first = ["/api/*", "/docs", "/llms.txt"]

[build]
command = "sh build.sh"

[[d1_databases]]
binding = "DB"
database_name = "opensession-io"
database_id = "cf67b01b-ee48-44e4-8b49-919d29c83045"

[[r2_buckets]]
binding = "SESSIONS"
bucket_name = "opensession-io-sessions"

[observability]
[observability.logs]
enabled = false
invocation_logs = true

[vars]
BASE_URL = "https://opensession.io"
ENABLE_TEAM_API = "false"
